"use strict";(globalThis.webpackChunkolocus_docs=globalThis.webpackChunkolocus_docs||[]).push([[3212],{8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var a=t(6540);const i={},r=a.createContext(i);function s(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(r.Provider,{value:n},e.children)}},8677:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"getting-started/understanding-measurements","title":"Understanding Measurements","description":"The Universal Measurement Foundation is what makes Olocus Protocol unique. Every piece of data can be represented with uncertainty, provenance, and validity.","source":"@site/docs/getting-started/understanding-measurements.md","sourceDirName":"getting-started","slug":"/getting-started/understanding-measurements","permalink":"/docs/getting-started/understanding-measurements","draft":false,"unlisted":false,"editUrl":"https://codeberg.org/olocus/protocol/edit/main/docs/getting-started/understanding-measurements.md","tags":[],"version":"current","lastUpdatedAt":1764941993000,"sidebarPosition":4,"frontMatter":{"id":"understanding-measurements","title":"Understanding Measurements","sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Building Your First Chain","permalink":"/docs/getting-started/first-chain"},"next":{"title":"Choosing Extensions","permalink":"/docs/getting-started/choosing-extensions"}}');var i=t(4848),r=t(8453);const s={id:"understanding-measurements",title:"Understanding Measurements",sidebar_position:4},o="Understanding Measurements",l={},d=[{value:"Why Measurements Matter",id:"why-measurements-matter",level:2},{value:"Quick Example",id:"quick-example",level:2},{value:"Core Components",id:"core-components",level:2},{value:"1. Value - The What",id:"1-value---the-what",level:3},{value:"2. Uncertainty - The How Sure",id:"2-uncertainty---the-how-sure",level:3},{value:"3. Provenance - The Where From",id:"3-provenance---the-where-from",level:3},{value:"4. Validity - The When",id:"4-validity---the-when",level:3},{value:"Practical Examples",id:"practical-examples",level:2},{value:"Weather Sensor",id:"weather-sensor",level:3},{value:"ML Prediction",id:"ml-prediction",level:3},{value:"User-Reported Data",id:"user-reported-data",level:3},{value:"Fixed-Point Coordinates",id:"fixed-point-coordinates",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Always Include Uncertainty",id:"1-always-include-uncertainty",level:3},{value:"2. Track Provenance",id:"2-track-provenance",level:3},{value:"3. Set Appropriate Validity",id:"3-set-appropriate-validity",level:3},{value:"4. Use Fixed-Point for Geography",id:"4-use-fixed-point-for-geography",level:3},{value:"5. Add Attestations When Available",id:"5-add-attestations-when-available",level:3},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Sensor Fusion",id:"sensor-fusion",level:3},{value:"Privacy Obfuscation",id:"privacy-obfuscation",level:3},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"understanding-measurements",children:"Understanding Measurements"})}),"\n",(0,i.jsx)(n.p,{children:"The Universal Measurement Foundation is what makes Olocus Protocol unique. Every piece of data can be represented with uncertainty, provenance, and validity."}),"\n",(0,i.jsx)(n.h2,{id:"why-measurements-matter",children:"Why Measurements Matter"}),"\n",(0,i.jsx)(n.p,{children:"In the real world, data is never perfect:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"GPS coordinates have accuracy limitations"}),"\n",(0,i.jsx)(n.li,{children:"Sensor readings have noise"}),"\n",(0,i.jsx)(n.li,{children:"Predictions have confidence levels"}),"\n",(0,i.jsx)(n.li,{children:"Data gets stale over time"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The Olocus Protocol embraces this reality with its measurement system."}),"\n",(0,i.jsx)(n.h2,{id:"quick-example",children:"Quick Example"}),"\n",(0,i.jsx)(n.p,{children:"Here's a GPS reading with all its real-world context:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"use olocus_core::{Measurement, Value, Uncertainty, Provenance, Source};\n\nlet gps_reading = Measurement {\n    // The actual location (San Francisco)\n    value: Value::Point2D {\n        lat: 377749000,  // 37.7749\xb0 \xd7 10^7\n        lon: -1224194000, // -122.4194\xb0 \xd7 10^7\n    },\n    \n    // How accurate? (10 meter radius)\n    uncertainty: Uncertainty::Circular {\n        angle: 0.0,\n        radius: 10.0,\n    },\n    \n    // Where did it come from?\n    provenance: Provenance {\n        source: Source::Sensor {\n            device_id: [0; 32],\n            sensor_type: 0x0001, // GPS\n            calibration_id: None,\n        },\n        transformations: vec![],\n        attestations: vec![],\n    },\n    \n    // How long is it valid?\n    validity: ValidityWindow::new(\n        now,\n        Some(now + 300) // Valid for 5 minutes\n    ),\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"core-components",children:"Core Components"}),"\n",(0,i.jsx)(n.h3,{id:"1-value---the-what",children:"1. Value - The What"}),"\n",(0,i.jsx)(n.p,{children:"The actual data, supporting ~40 types:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:'// Primitives\nValue::Float(22.5)              // Temperature\nValue::Int(42)                   // Count\nValue::String("Hello".to_string()) // Text\n\n// Spatial (fixed-point for precision)\nValue::Point2D { lat, lon }     // Location\nValue::Point3D { lat, lon, alt } // With altitude\n\n// Temporal\nValue::Timestamp(1234567890)    // Unix time\nValue::Duration(3600)            // 1 hour\n\n// Collections\nValue::Array(vec![...])         // Lists\nValue::Object(map)               // Key-value pairs\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-uncertainty---the-how-sure",children:"2. Uncertainty - The How Sure"}),"\n",(0,i.jsx)(n.p,{children:"Quantify confidence in the measurement:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"// GPS accuracy (circular error)\nUncertainty::Circular {\n    angle: 0.0,\n    radius: 10.0  // 10 meters\n}\n\n// Temperature sensor (normal distribution)\nUncertainty::Gaussian {\n    std_dev: 0.1  // \xb10.1\xb0C\n}\n\n// Prediction confidence\nUncertainty::Confidence {\n    level: 0.95  // 95% confident\n}\n\n// When you don't know\nUncertainty::Unknown\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-provenance---the-where-from",children:"3. Provenance - The Where From"}),"\n",(0,i.jsx)(n.p,{children:"Track the data's journey:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"Provenance {\n    // Original source\n    source: Source::Sensor {\n        device_id: device_id,\n        sensor_type: 0x0001,\n        calibration_id: Some(cal_id),\n    },\n    \n    // What happened to it\n    transformations: vec![\n        Transformation {\n            operation: TransformationOp::Filter {\n                algorithm: 0x0001, // Kalman\n                parameters: vec![],\n            },\n            timestamp: timestamp,\n            actor: processor_id,\n            input_hash: original_hash,\n        }\n    ],\n    \n    // Who verified it\n    attestations: vec![\n        Attestation {\n            attestor: witness_id,\n            claim: AttestationClaim::Witnessed,\n            signature: signature,\n            timestamp: witness_time,\n        }\n    ],\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-validity---the-when",children:"4. Validity - The When"}),"\n",(0,i.jsx)(n.p,{children:"Define temporal validity:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"// Valid forever (e.g., historical fact)\nValidityWindow::perpetual()\n\n// Valid for a period\nValidityWindow::new(\n    start_time,\n    Some(end_time)\n)\n\n// Decaying value (e.g., prediction)\nValidityWindow {\n    start: now,\n    end: Some(now + 86400),\n    decay: Some(DecayFunction::Exponential {\n        half_life: 3600  // Loses half value per hour\n    })\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,i.jsx)(n.h3,{id:"weather-sensor",children:"Weather Sensor"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"let temperature = Measurement {\n    value: Value::Float(22.5),\n    uncertainty: Uncertainty::Gaussian { std_dev: 0.1 },\n    provenance: Provenance {\n        source: Source::Sensor {\n            device_id: sensor_id,\n            sensor_type: 0x0002,\n            calibration_id: Some(cal_id),\n        },\n        transformations: vec![],\n        attestations: vec![],\n    },\n    validity: ValidityWindow::new(now, Some(now + 3600)),\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ml-prediction",children:"ML Prediction"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"let prediction = Measurement {\n    value: Value::Float(0.87), // 87% probability\n    uncertainty: Uncertainty::Confidence { level: 0.95 },\n    provenance: Provenance {\n        source: Source::Derived {\n            algorithm_id: 0x2000,\n            input_hashes: vec![data_hash],\n        },\n        transformations: vec![],\n        attestations: vec![validator_attestation],\n    },\n    validity: ValidityWindow::new(now, Some(now + 600)),\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"user-reported-data",children:"User-Reported Data"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:'let user_report = Measurement {\n    value: Value::String("Road closed".to_string()),\n    uncertainty: Uncertainty::Unknown,\n    provenance: Provenance {\n        source: Source::SelfReported {\n            reporter_id: user_id,\n            method: 0x0001, // Manual entry\n        },\n        transformations: vec![],\n        attestations: vec![], // Could add witness attestations\n    },\n    validity: ValidityWindow::new(now, Some(now + 7200)),\n};\n'})}),"\n",(0,i.jsx)(n.h2,{id:"fixed-point-coordinates",children:"Fixed-Point Coordinates"}),"\n",(0,i.jsx)(n.p,{children:"For cross-platform consistency, spatial coordinates use fixed-point arithmetic:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"// Degrees to fixed-point (\xd7 10^7)\nlet lat_fixed = Coordinate::latitude_to_fixed(37.7749);\n// Result: 377749000\n\n// Back to degrees\nlet lat_degrees = Coordinate::fixed_to_latitude(377749000);\n// Result: 37.7749\n\n// Calculate distance\nlet distance = Coordinate::haversine_distance(\n    lat1, lon1,\n    lat2, lon2\n); // Returns meters\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"1-always-include-uncertainty",children:"1. Always Include Uncertainty"}),"\n",(0,i.jsx)(n.p,{children:"Even if unknown, explicitly state it:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"uncertainty: Uncertainty::Unknown\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-track-provenance",children:"2. Track Provenance"}),"\n",(0,i.jsx)(n.p,{children:"Know where your data comes from:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"source: Source::Sensor { ... }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-set-appropriate-validity",children:"3. Set Appropriate Validity"}),"\n",(0,i.jsx)(n.p,{children:"Data gets stale:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"validity: ValidityWindow::new(now, Some(now + 300))\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-use-fixed-point-for-geography",children:"4. Use Fixed-Point for Geography"}),"\n",(0,i.jsx)(n.p,{children:"Ensures consistency across platforms:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"lat: Coordinate::latitude_to_fixed(degrees)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-add-attestations-when-available",children:"5. Add Attestations When Available"}),"\n",(0,i.jsx)(n.p,{children:"Third-party verification adds trust:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"attestations: vec![witness_attestation]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"sensor-fusion",children:"Sensor Fusion"}),"\n",(0,i.jsx)(n.p,{children:"Combine multiple measurements:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"let fused = Measurement {\n    value: weighted_average(&measurements),\n    uncertainty: combined_uncertainty(&measurements),\n    provenance: Provenance {\n        source: Source::Derived {\n            algorithm_id: 0x3000, // Sensor fusion\n            input_hashes: measurement_hashes,\n        },\n        ...\n    },\n    ...\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"privacy-obfuscation",children:"Privacy Obfuscation"}),"\n",(0,i.jsx)(n.p,{children:"Add controlled noise:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"let obfuscated = Measurement {\n    value: add_noise(original_value, epsilon),\n    uncertainty: Uncertainty::Interval {\n        lower: value - radius,\n        upper: value + radius,\n        confidence: 0.95,\n    },\n    provenance: Provenance {\n        transformations: vec![\n            Transformation {\n                operation: TransformationOp::Obfuscate {\n                    method: 0x0001, // Differential privacy\n                    level: 2,\n                },\n                ...\n            }\n        ],\n        ...\n    },\n    ...\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(n.p,{children:"Now that you understand measurements:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"./choosing-extensions",children:"Choose your extensions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../api/measurement-api",children:"Explore the Measurement API"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../extensions/privacy/techniques",children:"Learn about privacy techniques"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../tutorials/location-tracker",children:"Build a location tracker"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);