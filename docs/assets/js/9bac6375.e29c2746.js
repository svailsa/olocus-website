"use strict";(globalThis.webpackChunkolocus_docs=globalThis.webpackChunkolocus_docs||[]).push([[3071],{1921:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"extensions/enterprise/hsm-integration","title":"HSM Integration","description":"Enterprise-grade hardware security module (HSM) integration for Olocus Protocol, providing FIPS 140-2/3 compliant key management and cryptographic operations.","source":"@site/docs/extensions/enterprise/hsm-integration.md","sourceDirName":"extensions/enterprise","slug":"/extensions/enterprise/hsm-integration","permalink":"/docs/extensions/enterprise/hsm-integration","draft":false,"unlisted":false,"editUrl":"https://codeberg.org/olocus/protocol/edit/main/docs/extensions/enterprise/hsm-integration.md","tags":[],"version":"current","lastUpdatedAt":1764951516000,"sidebarPosition":1,"frontMatter":{"id":"hsm-integration","title":"HSM Integration","sidebar_position":1}}');var r=t(4848),o=t(8453);const s={id:"hsm-integration",title:"HSM Integration",sidebar_position:1},a="HSM Integration",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Key Features",id:"key-features",level:3},{value:"Architecture",id:"architecture",level:2},{value:"HSM Backend Abstraction",id:"hsm-backend-abstraction",level:3},{value:"Session Management",id:"session-management",level:3},{value:"Enterprise Deployment Patterns",id:"enterprise-deployment-patterns",level:2},{value:"High Availability Configuration",id:"high-availability-configuration",level:3},{value:"Load Balancing",id:"load-balancing",level:3},{value:"Security Features",id:"security-features",level:2},{value:"Key Attestation",id:"key-attestation",level:3},{value:"Secure Key Import/Export",id:"secure-key-importexport",level:3},{value:"Key Lifecycle Management",id:"key-lifecycle-management",level:2},{value:"Automated Rotation",id:"automated-rotation",level:3},{value:"Version Management",id:"version-management",level:3},{value:"Cloud HSM Integration",id:"cloud-hsm-integration",level:2},{value:"AWS CloudHSM",id:"aws-cloudhsm",level:3},{value:"Azure Key Vault",id:"azure-key-vault",level:3},{value:"Google Cloud HSM",id:"google-cloud-hsm",level:3},{value:"Compliance and Auditing",id:"compliance-and-auditing",level:2},{value:"FIPS 140-2 Validation",id:"fips-140-2-validation",level:3},{value:"Audit Trail",id:"audit-trail",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Connection Pooling",id:"connection-pooling",level:3},{value:"Batch Operations",id:"batch-operations",level:3},{value:"Integration with Olocus Core",id:"integration-with-olocus-core",level:2},{value:"HSM-Backed Block Signing",id:"hsm-backed-block-signing",level:3},{value:"Key Derivation",id:"key-derivation",level:3},{value:"Monitoring and Alerts",id:"monitoring-and-alerts",level:2},{value:"Health Monitoring",id:"health-monitoring",level:3},{value:"Performance Metrics",id:"performance-metrics",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Security Hardening",id:"security-hardening",level:3},{value:"Performance Tuning",id:"performance-tuning",level:3},{value:"Operational Excellence",id:"operational-excellence",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Configuration Reference",id:"configuration-reference",level:2},{value:"HSM Provider Configuration",id:"hsm-provider-configuration",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"hsm-integration",children:"HSM Integration"})}),"\n",(0,r.jsx)(n.p,{children:"Enterprise-grade hardware security module (HSM) integration for Olocus Protocol, providing FIPS 140-2/3 compliant key management and cryptographic operations."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"olocus-hsm"})," extension provides comprehensive HSM integration for enterprise environments requiring the highest levels of cryptographic security. This extension supports both on-premise and cloud HSM solutions with standardized PKCS#11 interfaces."]}),"\n",(0,r.jsx)(n.h3,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"FIPS 140-2 Level 2/3 Compliance"}),": Certified hardware security for regulated industries"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-Vendor Support"}),": Works with Thales Luna, Entrust nShield, Utimaco, and SoftHSM"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cloud HSM Integration"}),": Native support for AWS CloudHSM, Azure Key Vault, Google Cloud HSM"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Pooling"}),": High-throughput operations with connection pooling"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Key Rotation"}),": Automated key lifecycle management with version history"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Health Monitoring"}),": Real-time HSM status and performance metrics"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsx)(n.h3,{id:"hsm-backend-abstraction",children:"HSM Backend Abstraction"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_hsm::{HSMBackend, HSMResult, KeyId, SignRequest};\n\npub trait HSMBackend: Send + Sync {\n    /// Initialize HSM connection with credentials\n    async fn initialize(&mut self, config: HSMConfig) -> HSMResult<()>;\n    \n    /// Generate new key pair in HSM\n    async fn generate_keypair(\n        &self,\n        key_type: KeyType,\n        attributes: KeyAttributes\n    ) -> HSMResult<KeyId>;\n    \n    /// Sign data using HSM-stored private key\n    async fn sign(\n        &self,\n        key_id: &KeyId,\n        request: &SignRequest\n    ) -> HSMResult<Vec<u8>>;\n    \n    /// Verify signature using HSM-stored public key\n    async fn verify(\n        &self,\n        key_id: &KeyId,\n        data: &[u8],\n        signature: &[u8]\n    ) -> HSMResult<bool>;\n    \n    /// Encrypt data using HSM key\n    async fn encrypt(\n        &self,\n        key_id: &KeyId,\n        plaintext: &[u8]\n    ) -> HSMResult<Vec<u8>>;\n    \n    /// Get HSM health status\n    async fn health_check(&self) -> HSMResult<HSMStatus>;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"session-management",children:"Session Management"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_hsm::session::{SessionPool, SessionConfig};\n\n// Configure session pool for high throughput\nlet session_config = SessionConfig {\n    min_sessions: 5,\n    max_sessions: 50,\n    idle_timeout: Duration::from_secs(300),\n    health_check_interval: Duration::from_secs(60),\n};\n\nlet session_pool = SessionPool::new(hsm_backend, session_config).await?;\n\n// Use pooled sessions for signing operations\nlet signature = session_pool.with_session(|session| {\n    session.sign(&key_id, &sign_request)\n}).await?;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"enterprise-deployment-patterns",children:"Enterprise Deployment Patterns"}),"\n",(0,r.jsx)(n.h3,{id:"high-availability-configuration",children:"High Availability Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'use olocus_hsm::cluster::{HSMCluster, ClusterConfig, FailoverPolicy};\n\n// Configure HSM cluster for high availability\nlet cluster_config = ClusterConfig {\n    primary_hsm: "hsm-primary.company.com",\n    backup_hsms: vec![\n        "hsm-backup-1.company.com",\n        "hsm-backup-2.company.com"\n    ],\n    failover_policy: FailoverPolicy::Automatic,\n    health_check_interval: Duration::from_secs(30),\n    failover_threshold: 3,\n};\n\nlet hsm_cluster = HSMCluster::new(cluster_config).await?;\n\n// Automatic failover on HSM failure\nlet signature = hsm_cluster.sign(&key_id, &data).await?;\n'})}),"\n",(0,r.jsx)(n.h3,{id:"load-balancing",children:"Load Balancing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_hsm::balancer::{LoadBalancer, BalancingStrategy};\n\n// Distribute load across multiple HSMs\nlet load_balancer = LoadBalancer::new(\n    vec![hsm1, hsm2, hsm3],\n    BalancingStrategy::RoundRobin\n);\n\n// Operations automatically distributed\nfor request in signing_requests {\n    let signature = load_balancer.sign(&key_id, &request).await?;\n    signatures.push(signature);\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"security-features",children:"Security Features"}),"\n",(0,r.jsx)(n.h3,{id:"key-attestation",children:"Key Attestation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_hsm::attestation::{AttestationRequest, AttestationProof};\n\n// Generate attestation proof for key authenticity\nlet attestation_request = AttestationRequest {\n    key_id: key_id.clone(),\n    challenge: random_challenge(),\n    include_certificate_chain: true,\n};\n\nlet proof = hsm.attest_key(&attestation_request).await?;\n\n// Verify key was generated in genuine HSM\nassert!(proof.verify_hsm_authenticity());\nassert!(proof.verify_key_properties(&expected_attributes));\n"})}),"\n",(0,r.jsx)(n.h3,{id:"secure-key-importexport",children:"Secure Key Import/Export"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_hsm::transport::{KeyTransport, WrapMethod};\n\n// Secure key transport between HSMs\nlet transport = KeyTransport::new(WrapMethod::AES256GCM);\n\n// Export key wrapped for secure transport\nlet wrapped_key = hsm_source.export_key(\n    &key_id,\n    &transport.wrapping_key()\n).await?;\n\n// Import wrapped key to destination HSM\nlet new_key_id = hsm_destination.import_key(\n    &wrapped_key,\n    &transport\n).await?;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"key-lifecycle-management",children:"Key Lifecycle Management"}),"\n",(0,r.jsx)(n.h3,{id:"automated-rotation",children:"Automated Rotation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_hsm::rotation::{RotationPolicy, RotationScheduler};\nuse chrono::Duration;\n\n// Configure automatic key rotation\nlet rotation_policy = RotationPolicy {\n    rotation_interval: Duration::days(90),\n    overlap_period: Duration::days(7),\n    max_key_versions: 5,\n    notification_advance: Duration::days(7),\n};\n\nlet scheduler = RotationScheduler::new(\n    hsm.clone(),\n    rotation_policy\n);\n\n// Start automated rotation\nscheduler.start().await?;\n\n// Manual rotation trigger\nlet new_key_id = scheduler.rotate_key(&current_key_id).await?;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"version-management",children:"Version Management"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'use olocus_hsm::versioning::{KeyVersion, VersionManager};\n\n// Track key versions with metadata\nlet version_manager = VersionManager::new(hsm.clone());\n\n// Create new version during rotation\nlet new_version = version_manager.create_version(\n    &key_id,\n    KeyVersion {\n        version: 2,\n        created_at: Utc::now(),\n        expires_at: Some(Utc::now() + Duration::days(365)),\n        metadata: hashmap! {\n            "rotation_reason".to_string() => "scheduled".to_string(),\n            "compliance_requirement".to_string() => "annual".to_string(),\n        },\n    }\n).await?;\n\n// List all versions for audit\nlet versions = version_manager.list_versions(&key_id).await?;\n'})}),"\n",(0,r.jsx)(n.h2,{id:"cloud-hsm-integration",children:"Cloud HSM Integration"}),"\n",(0,r.jsx)(n.h3,{id:"aws-cloudhsm",children:"AWS CloudHSM"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'use olocus_hsm::providers::aws::{CloudHSMBackend, CloudHSMConfig};\n\n// Configure AWS CloudHSM connection\nlet aws_config = CloudHSMConfig {\n    cluster_id: "cluster-1234567890abcdef".to_string(),\n    hsm_ca_cert: include_str!("aws-hsm-ca.pem").to_string(),\n    client_cert: include_str!("client-cert.pem").to_string(),\n    client_key: include_str!("client-key.pem").to_string(),\n    hsm_user: "crypto_user".to_string(),\n    hsm_password: env::var("HSM_PASSWORD")?,\n    region: "us-east-1".to_string(),\n};\n\nlet aws_hsm = CloudHSMBackend::new(aws_config).await?;\n'})}),"\n",(0,r.jsx)(n.h3,{id:"azure-key-vault",children:"Azure Key Vault"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'use olocus_hsm::providers::azure::{KeyVaultBackend, KeyVaultConfig};\n\n// Configure Azure Key Vault HSM\nlet azure_config = KeyVaultConfig {\n    vault_url: "https://company-vault.vault.azure.net/".to_string(),\n    tenant_id: "tenant-id".to_string(),\n    client_id: "client-id".to_string(),\n    client_secret: env::var("AZURE_CLIENT_SECRET")?,\n    hsm_tier: azure::HSMTier::Premium,\n};\n\nlet azure_hsm = KeyVaultBackend::new(azure_config).await?;\n'})}),"\n",(0,r.jsx)(n.h3,{id:"google-cloud-hsm",children:"Google Cloud HSM"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'use olocus_hsm::providers::gcp::{CloudHSMBackend, CloudHSMConfig};\n\n// Configure Google Cloud HSM\nlet gcp_config = CloudHSMConfig {\n    project_id: "company-project".to_string(),\n    location: "us-central1".to_string(),\n    key_ring: "olocus-keys".to_string(),\n    service_account_key: include_str!("service-account.json").to_string(),\n};\n\nlet gcp_hsm = CloudHSMBackend::new(gcp_config).await?;\n'})}),"\n",(0,r.jsx)(n.h2,{id:"compliance-and-auditing",children:"Compliance and Auditing"}),"\n",(0,r.jsx)(n.h3,{id:"fips-140-2-validation",children:"FIPS 140-2 Validation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_hsm::compliance::{FIPSValidator, ComplianceLevel};\n\n// Validate FIPS 140-2 compliance\nlet validator = FIPSValidator::new();\n\nlet compliance_check = validator.validate_hsm(&hsm).await?;\nassert_eq!(compliance_check.level, ComplianceLevel::Level3);\nassert!(compliance_check.is_compliant());\n\n// Generate compliance report\nlet report = validator.generate_report(&compliance_check).await?;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"audit-trail",children:"Audit Trail"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'use olocus_hsm::audit::{AuditLogger, AuditEvent, AuditLevel};\n\n// Configure audit logging\nlet audit_logger = AuditLogger::new(AuditLevel::All);\n\n// All HSM operations are automatically audited\nhsm.set_audit_logger(audit_logger);\n\n// Query audit trail\nlet events = audit_logger.query_events(\n    Utc::now() - Duration::days(30),\n    Utc::now()\n).await?;\n\nfor event in events {\n    match event.event_type {\n        AuditEvent::KeyGeneration { key_id, algorithm } => {\n            println!("Key {} generated using {}", key_id, algorithm);\n        }\n        AuditEvent::SignOperation { key_id, data_hash } => {\n            println!("Signing operation with key {}", key_id);\n        }\n        AuditEvent::KeyRotation { old_key, new_key } => {\n            println!("Key rotated: {} -> {}", old_key, new_key);\n        }\n        _ => {}\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,r.jsx)(n.h3,{id:"connection-pooling",children:"Connection Pooling"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_hsm::pool::{ConnectionPool, PoolConfig};\n\n// Optimize for high-throughput environments\nlet pool_config = PoolConfig {\n    min_connections: 10,\n    max_connections: 100,\n    connection_timeout: Duration::from_secs(5),\n    idle_timeout: Duration::from_secs(300),\n    max_lifetime: Duration::from_secs(3600),\n    health_check_interval: Duration::from_secs(30),\n};\n\nlet connection_pool = ConnectionPool::new(hsm_config, pool_config).await?;\n\n// Concurrent operations with pooled connections\nlet signing_tasks: Vec<_> = requests.into_iter().map(|request| {\n    let pool = connection_pool.clone();\n    tokio::spawn(async move {\n        pool.with_connection(|hsm| {\n            hsm.sign(&request.key_id, &request.data)\n        }).await\n    })\n}).collect();\n\nlet signatures = futures::try_join_all(signing_tasks).await?;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"batch-operations",children:"Batch Operations"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_hsm::batch::{BatchProcessor, BatchConfig};\n\n// Process multiple operations in batches\nlet batch_config = BatchConfig {\n    max_batch_size: 50,\n    max_wait_time: Duration::from_millis(100),\n    max_concurrent_batches: 5,\n};\n\nlet batch_processor = BatchProcessor::new(hsm.clone(), batch_config);\n\n// Submit operations for batching\nfor request in sign_requests {\n    batch_processor.submit_sign_request(request).await?;\n}\n\n// Wait for all batches to complete\nbatch_processor.flush().await?;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"integration-with-olocus-core",children:"Integration with Olocus Core"}),"\n",(0,r.jsx)(n.h3,{id:"hsm-backed-block-signing",children:"HSM-Backed Block Signing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_core::{Block, BlockPayload};\nuse olocus_hsm::OlocusHSMExtension;\n\n// Configure Olocus with HSM backend\nlet hsm_extension = OlocusHSMExtension::new(hsm_backend);\n\n// Create block with HSM signing\nlet payload = MyPayload::new(data);\nlet block = Block::new(\n    payload,\n    previous_hash,\n    &hsm_extension.signing_key()\n).await?;\n\n// Block is automatically signed using HSM\nassert!(block.verify_signature(&hsm_extension.verification_key()).await?);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"key-derivation",children:"Key Derivation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_hsm::derivation::{KeyDerivation, DerivationPath};\n\n// Derive keys using HSM master key\nlet master_key = hsm.generate_master_key().await?;\nlet derivation_path = DerivationPath::parse(\"m/44'/0'/0'/0/0\")?;\n\nlet derived_key = hsm.derive_key(\n    &master_key,\n    &derivation_path\n).await?;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"monitoring-and-alerts",children:"Monitoring and Alerts"}),"\n",(0,r.jsx)(n.h3,{id:"health-monitoring",children:"Health Monitoring"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'use olocus_hsm::monitoring::{HSMMonitor, HealthMetrics, AlertConfig};\n\n// Configure HSM health monitoring\nlet alert_config = AlertConfig {\n    latency_threshold: Duration::from_millis(500),\n    error_rate_threshold: 0.01, // 1%\n    connection_threshold: 0.8,   // 80% of pool\n    notification_webhook: Some("https://alerts.company.com/hsm".to_string()),\n};\n\nlet monitor = HSMMonitor::new(hsm.clone(), alert_config);\n\n// Start monitoring\nmonitor.start().await?;\n\n// Get current metrics\nlet metrics = monitor.get_metrics().await?;\nprintln!("Average latency: {}ms", metrics.avg_latency.as_millis());\nprintln!("Error rate: {:.2}%", metrics.error_rate * 100.0);\nprintln!("Active connections: {}", metrics.active_connections);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"performance-metrics",children:"Performance Metrics"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_hsm::metrics::{MetricsCollector, MetricType};\n\n// Collect detailed performance metrics\nlet metrics = MetricsCollector::new();\n\n// Track operation latencies\nmetrics.record_latency(MetricType::SignOperation, latency);\nmetrics.record_latency(MetricType::KeyGeneration, latency);\n\n// Export metrics to monitoring system\nlet prometheus_metrics = metrics.export_prometheus().await?;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"security-hardening",children:"Security Hardening"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Network Isolation"}),": Deploy HSMs in isolated network segments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Access Control"}),": Implement role-based access with principle of least privilege"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Certificate Management"}),": Use strong PKI for HSM authentication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Audit Logging"}),": Enable comprehensive audit trails for all operations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backup and Recovery"}),": Implement secure key backup and disaster recovery"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"performance-tuning",children:"Performance Tuning"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Connection Pooling"}),": Use appropriate pool sizes for your workload"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Batch Operations"}),": Group multiple operations when possible"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Async Processing"}),": Leverage asynchronous operations for better throughput"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Load Balancing"}),": Distribute load across multiple HSM instances"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Caching"}),": Cache public keys and certificates when appropriate"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"operational-excellence",children:"Operational Excellence"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitoring"}),": Implement comprehensive HSM health monitoring"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Alerting"}),": Set up proactive alerts for HSM issues"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documentation"}),": Maintain detailed operational runbooks"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Testing"}),": Regular disaster recovery and failover testing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Training"}),": Ensure operations teams are trained on HSM procedures"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.p,{children:"The HSM extension uses standardized error codes in the range 100-109:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"use olocus_hsm::{HSMError, HSMErrorCode};\n\nmatch hsm_result {\n    Err(HSMError::ConnectionFailed { code: 100, .. }) => {\n        // Retry with exponential backoff\n        tokio::time::sleep(backoff_duration).await;\n        retry_operation().await?;\n    }\n    Err(HSMError::KeyNotFound { code: 101, .. }) => {\n        // Generate new key\n        let new_key = hsm.generate_keypair(key_type, attributes).await?;\n    }\n    Err(HSMError::AuthenticationFailed { code: 102, .. }) => {\n        // Refresh credentials and retry\n        hsm.refresh_authentication().await?;\n    }\n    Ok(result) => {\n        // Process successful result\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configuration-reference",children:"Configuration Reference"}),"\n",(0,r.jsx)(n.h3,{id:"hsm-provider-configuration",children:"HSM Provider Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# hsm-config.yaml\nhsm:\n  provider: "thales_luna"  # thales_luna, entrust_nshield, utimaco, softhsm, aws_cloudhsm, azure_keyvault, gcp_hsm\n  \n  # Connection settings\n  connection:\n    host: "192.168.1.100"\n    port: 1792\n    timeout: 30s\n    retry_attempts: 3\n    \n  # Authentication\n  auth:\n    username: "crypto_user"\n    password_env: "HSM_PASSWORD"\n    certificate_path: "/etc/hsm/client.pem"\n    private_key_path: "/etc/hsm/client-key.pem"\n    \n  # Session pool\n  pool:\n    min_sessions: 5\n    max_sessions: 50\n    idle_timeout: 300s\n    health_check_interval: 60s\n    \n  # Key management\n  keys:\n    rotation_interval: 90d\n    overlap_period: 7d\n    max_versions: 5\n    \n  # Monitoring\n  monitoring:\n    enabled: true\n    metrics_interval: 30s\n    health_check_interval: 60s\n    alert_latency_threshold: 500ms\n    alert_error_rate_threshold: 0.01\n'})}),"\n",(0,r.jsx)(n.p,{children:"The HSM integration extension provides enterprise-grade cryptographic security while maintaining the flexibility and extensibility of the Olocus Protocol architecture."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(6540);const r={},o=i.createContext(r);function s(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);